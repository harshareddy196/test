from string_matching import convert_ocrs_to_char_dict_only_al_num
from string_matching import merge_coord
from ner import KeywordTrainer


def get_keywords(ocr, ner_model_path):
	keywords_list = []

	for idx, page in enumerate(ocr):
		char_index_list, haystack = convert_ocrs_to_char_dict_only_al_num(page)

		keyword_predit = KeywordTrainer(ner_model_path)

		keyword_indexes = keyword_predit.predict(haystack)
		keyword_list = []

		field_entity_list = {}

		for field, keywords in keyword_indexes.items():
			for keyword in keywords:
				key = keyword['keyword']
				start = keyword['start']
				end = keyword['end']

				keyword_coord = dict(char_index_list[start])
				keyword_coord['word'] = key
				keyword_coord['field'] = keyword['field']
				keyword_coord['page'] = idx

				for idx in range(start+1, end+1):
					if char_index_list[idx]:
						keyword_coord = merge_coord(keyword_coord, char_index_list[idx])


				keyword_coord.pop('char')
				keyword_list.append(keyword_coord)

				if field in field_entity_list:
					field_entity_list[field].append(keyword_coord)
				else:
					field_entity_list[field] = [keyword_coord]
				
		keywords_list.append(keyword_list)

	return keywords_list, field_entity_list



if __name__ == "__main__":
	ocr = [[{"word": "ORIGINAL", "width": 44, "height": 6, "top": 120, "left": 40, "bottom": 126, "right": 84, "confidence": 100.0}, {"word": "/", "width": 4, "height": 8, "top": 119, "left": 87, "bottom": 127, "right": 92, "confidence": 100.0}, {"word": "DUPLICATE", "width": 48, "height": 6, "top": 120, "left": 95, "bottom": 126, "right": 144, "confidence": 100.0}, {"word": "/", "width": 3, "height": 8, "top": 119, "left": 147, "bottom": 127, "right": 151, "confidence": 100.0}, {"word": "TRIPLICATE", "width": 51, "height": 6, "top": 120, "left": 154, "bottom": 126, "right": 206, "confidence": 100.0}, {"word": "/", "width": 4, "height": 8, "top": 119, "left": 209, "bottom": 127, "right": 213, "confidence": 100.0}, {"word": "EXTRA", "width": 28, "height": 6, "top": 120, "left": 217, "bottom": 126, "right": 245, "confidence": 100.0}, {"word": "COPY", "width": 23, "height": 6, "top": 120, "left": 249, "bottom": 126, "right": 272, "confidence": 100.0}, {"word": "TAX", "width": 19, "height": 6, "top": 133, "left": 299, "bottom": 140, "right": 319, "confidence": 100.0}, {"word": "INVOICE", "width": 42, "height": 6, "top": 133, "left": 322, "bottom": 140, "right": 364, "confidence": 100.0}, {"word": "GSTN:", "width": 26, "height": 6, "top": 206, "left": 43, "bottom": 212, "right": 69, "confidence": 100.0}, {"word": "36AAHCC1842Q1Z9", "width": 86, "height": 6, "top": 206, "left": 75, "bottom": 212, "right": 161, "confidence": 100.0}, {"word": "CIN:", "width": 18, "height": 6, "top": 224, "left": 42, "bottom": 230, "right": 61, "confidence": 75.0}, {"word": "U74999TG2017PTC19387", "width": 111, "height": 6, "top": 224, "left": 66, "bottom": 230, "right": 178, "confidence": 95.0}, {"word": "SI.No", "width": 26, "height": 7, "top": 355, "left": 37, "bottom": 363, "right": 63, "confidence": 80.0}, {"word": "HSN/SAC", "width": 46, "height": 7, "top": 356, "left": 270, "bottom": 363, "right": 317, "confidence": 100.0}, {"word": "Qty", "width": 17, "height": 10, "top": 355, "left": 418, "bottom": 365, "right": 435, "confidence": 100.0}, {"word": "Rate(INR)", "width": 50, "height": 10, "top": 356, "left": 461, "bottom": 366, "right": 511, "confidence": 100.0}, {"word": "Part", "width": 19, "height": 7, "top": 356, "left": 344, "bottom": 363, "right": 363, "confidence": 100.0}, {"word": "No.", "width": 15, "height": 7, "top": 356, "left": 368, "bottom": 363, "right": 383, "confidence": 100.0}, {"word": "48211020", "width": 51, "height": 7, "top": 378, "left": 267, "bottom": 386, "right": 318, "confidence": 100.0}, {"word": "150067617", "width": 56, "height": 7, "top": 378, "left": 335, "bottom": 386, "right": 392, "confidence": 100.0}, {"word": "42000", "width": 31, "height": 7, "top": 378, "left": 410, "bottom": 386, "right": 442, "confidence": 100.0}, {"word": "1.42", "width": 20, "height": 7, "top": 378, "left": 475, "bottom": 386, "right": 496, "confidence": 100.0}, {"word": "1", "width": 4, "height": 7, "top": 378, "left": 48, "bottom": 386, "right": 52, "confidence": 0.0}, {"word": "TOTAL", "width": 32, "height": 7, "top": 429, "left": 68, "bottom": 436, "right": 101, "confidence": 100.0}, {"word": "6", "width": 5, "height": 8, "top": 429, "left": 105, "bottom": 437, "right": 110, "confidence": 100.0}, {"word": "BOXES", "width": 33, "height": 7, "top": 429, "left": 115, "bottom": 436, "right": 149, "confidence": 100.0}, {"word": "INVOICE", "width": 37, "height": 6, "top": 480, "left": 496, "bottom": 486, "right": 533, "confidence": 100.0}, {"word": "VALUE:", "width": 31, "height": 6, "top": 480, "left": 537, "bottom": 486, "right": 568, "confidence": 100.0}, {"word": "70375.20", "width": 41, "height": 6, "top": 481, "left": 594, "bottom": 487, "right": 635, "confidence": 100.0}, {"word": "BY", "width": 10, "height": 6, "top": 622, "left": 194, "bottom": 629, "right": 204, "confidence": 100.0}, {"word": "ROAD", "width": 24, "height": 6, "top": 622, "left": 208, "bottom": 629, "right": 233, "confidence": 100.0}, {"word": "Customers", "width": 54, "height": 6, "top": 735, "left": 36, "bottom": 741, "right": 90, "confidence": 100.0}, {"word": "Seal", "width": 19, "height": 6, "top": 735, "left": 94, "bottom": 741, "right": 114, "confidence": 100.0}, {"word": "and", "width": 17, "height": 4, "top": 736, "left": 121, "bottom": 741, "right": 138, "confidence": 100.0}, {"word": "Signature", "width": 46, "height": 6, "top": 735, "left": 143, "bottom": 741, "right": 190, "confidence": 100.0}, {"word": "CGST", "width": 28, "height": 7, "top": 439, "left": 221, "bottom": 447, "right": 249, "confidence": 100.0}, {"word": "SGST", "width": 28, "height": 7, "top": 451, "left": 221, "bottom": 459, "right": 249, "confidence": 100.0}, {"word": "Docket", "width": 29, "height": 6, "top": 589, "left": 340, "bottom": 596, "right": 369, "confidence": 100.0}, {"word": "No.", "width": 13, "height": 6, "top": 589, "left": 373, "bottom": 596, "right": 387, "confidence": 100.0}, {"word": "8i", "width": 5, "height": 6, "top": 589, "left": 391, "bottom": 596, "right": 397, "confidence": 50.0}, {"word": "Date:", "width": 22, "height": 6, "top": 589, "left": 401, "bottom": 596, "right": 424, "confidence": 100.0}, {"word": "Delivery", "width": 35, "height": 8, "top": 601, "left": 340, "bottom": 609, "right": 375, "confidence": 100.0}, {"word": "Type", "width": 19, "height": 6, "top": 600, "left": 378, "bottom": 607, "right": 398, "confidence": 100.0}, {"word": "9", "width": 5, "height": 7, "top": 439, "left": 542, "bottom": 447, "right": 548, "confidence": 100.0}, {"word": "9", "width": 5, "height": 7, "top": 451, "left": 542, "bottom": 459, "right": 548, "confidence": 100.0}, {"word": "Citrus", "width": 28, "height": 6, "top": 159, "left": 43, "bottom": 166, "right": 71, "confidence": 100.0}, {"word": "Packaging", "width": 49, "height": 8, "top": 159, "left": 75, "bottom": 167, "right": 124, "confidence": 100.0}, {"word": "Solutions", "width": 45, "height": 6, "top": 159, "left": 129, "bottom": 166, "right": 174, "confidence": 100.0}, {"word": "Pvt.", "width": 17, "height": 6, "top": 159, "left": 178, "bottom": 166, "right": 196, "confidence": 100.0}, {"word": "Ltd.", "width": 17, "height": 6, "top": 159, "left": 200, "bottom": 166, "right": 218, "confidence": 100.0}, {"word": "Plot", "width": 15, "height": 6, "top": 173, "left": 43, "bottom": 179, "right": 58, "confidence": 100.0}, {"word": "No.", "width": 13, "height": 6, "top": 173, "left": 62, "bottom": 179, "right": 75, "confidence": 100.0}, {"word": "A-20,", "width": 23, "height": 8, "top": 173, "left": 80, "bottom": 181, "right": 103, "confidence": 80.0}, {"word": "Road", "width": 20, "height": 6, "top": 173, "left": 108, "bottom": 179, "right": 128, "confidence": 100.0}, {"word": "No", "width": 10, "height": 6, "top": 173, "left": 133, "bottom": 179, "right": 143, "confidence": 100.0}, {"word": "7,", "width": 7, "height": 8, "top": 173, "left": 147, "bottom": 181, "right": 155, "confidence": 100.0}, {"word": "IDA", "width": 15, "height": 6, "top": 173, "left": 159, "bottom": 179, "right": 175, "confidence": 100.0}, {"word": "Kukatpally", "width": 45, "height": 8, "top": 173, "left": 179, "bottom": 181, "right": 224, "confidence": 100.0}, {"word": "Gandhinagar,", "width": 56, "height": 8, "top": 188, "left": 43, "bottom": 197, "right": 99, "confidence": 100.0}, {"word": "Hyderabad-", "width": 49, "height": 4, "top": 188, "left": 104, "bottom": 193, "right": 154, "confidence": 100.0}, {"word": "500", "width": 15, "height": 6, "top": 188, "left": 159, "bottom": 195, "right": 174, "confidence": 100.0}, {"word": "037,", "width": 18, "height": 8, "top": 188, "left": 178, "bottom": 197, "right": 197, "confidence": 100.0}, {"word": "Telangana,", "width": 46, "height": 8, "top": 188, "left": 201, "bottom": 197, "right": 248, "confidence": 100.0}, {"word": "India.", "width": 24, "height": 6, "top": 188, "left": 252, "bottom": 195, "right": 277, "confidence": 100.0}, {"word": "Contact:", "width": 35, "height": 6, "top": 240, "left": 43, "bottom": 246, "right": 78, "confidence": 100.0}, {"word": "040-23072288/", "width": 68, "height": 7, "top": 240, "left": 83, "bottom": 248, "right": 152, "confidence": 100.0}, {"word": "+91", "width": 16, "height": 5, "top": 241, "left": 156, "bottom": 246, "right": 173, "confidence": 100.0}, {"word": "8008277210", "width": 54, "height": 6, "top": 240, "left": 177, "bottom": 246, "right": 232, "confidence": 100.0}, {"word": "Website:", "width": 36, "height": 6, "top": 254, "left": 42, "bottom": 260, "right": 79, "confidence": 100.0}, {"word": "www.citruspack.com", "width": 90, "height": 4, "top": 255, "left": 84, "bottom": 260, "right": 174, "confidence": 100.0}, {"word": "02-07-2019", "width": 51, "height": 6, "top": 213, "left": 428, "bottom": 220, "right": 480, "confidence": 100.0}, {"word": "Bachupally", "width": 46, "height": 8, "top": 227, "left": 428, "bottom": 235, "right": 475, "confidence": 80.0}, {"word": "60", "width": 9, "height": 6, "top": 241, "left": 428, "bottom": 248, "right": 438, "confidence": 100.0}, {"word": "Days", "width": 20, "height": 6, "top": 241, "left": 442, "bottom": 248, "right": 463, "confidence": 100.0}, {"word": "Transport", "width": 47, "height": 6, "top": 589, "left": 38, "bottom": 596, "right": 86, "confidence": 100.0}, {"word": "Details", "width": 32, "height": 6, "top": 589, "left": 90, "bottom": 596, "right": 123, "confidence": 100.0}, {"word": "Carrier", "width": 29, "height": 6, "top": 601, "left": 38, "bottom": 607, "right": 68, "confidence": 100.0}, {"word": "Name", "width": 24, "height": 6, "top": 601, "left": 72, "bottom": 607, "right": 96, "confidence": 100.0}, {"word": "Vehicle", "width": 30, "height": 6, "top": 612, "left": 38, "bottom": 618, "right": 68, "confidence": 100.0}, {"word": "No", "width": 10, "height": 6, "top": 612, "left": 72, "bottom": 618, "right": 83, "confidence": 100.0}, {"word": "Mode", "width": 22, "height": 6, "top": 622, "left": 38, "bottom": 629, "right": 60, "confidence": 100.0}, {"word": "Bill", "width": 14, "height": 6, "top": 279, "left": 41, "bottom": 286, "right": 55, "confidence": 100.0}, {"word": "to", "width": 9, "height": 6, "top": 279, "left": 59, "bottom": 286, "right": 68, "confidence": 100.0}, {"word": "Receiver", "width": 41, "height": 6, "top": 279, "left": 72, "bottom": 286, "right": 114, "confidence": 100.0}, {"word": "Dr.Reddys", "width": 45, "height": 6, "top": 293, "left": 41, "bottom": 300, "right": 86, "confidence": 100.0}, {"word": "Laboratories", "width": 53, "height": 6, "top": 293, "left": 90, "bottom": 300, "right": 144, "confidence": 100.0}, {"word": "Ltd.", "width": 15, "height": 6, "top": 293, "left": 148, "bottom": 300, "right": 163, "confidence": 100.0}, {"word": "8-2-337,", "width": 37, "height": 8, "top": 307, "left": 40, "bottom": 315, "right": 78, "confidence": 100.0}, {"word": "Road", "width": 20, "height": 6, "top": 307, "left": 83, "bottom": 313, "right": 103, "confidence": 100.0}, {"word": "No.3,", "width": 22, "height": 8, "top": 307, "left": 108, "bottom": 315, "right": 130, "confidence": 80.0}, {"word": "Banjara", "width": 32, "height": 6, "top": 307, "left": 135, "bottom": 313, "right": 167, "confidence": 85.71}, {"word": "Hills,", "width": 20, "height": 8, "top": 307, "left": 172, "bottom": 315, "right": 192, "confidence": 100.0}, {"word": "Hyderabad-500034.", "width": 86, "height": 6, "top": 307, "left": 196, "bottom": 313, "right": 283, "confidence": 100.0}, {"word": "Telangana.", "width": 46, "height": 6, "top": 318, "left": 40, "bottom": 325, "right": 86, "confidence": 100.0}, {"word": "36AAACD7999Q1ZL", "width": 86, "height": 6, "top": 332, "left": 41, "bottom": 338, "right": 127, "confidence": 100.0}, {"word": "Description", "width": 55, "height": 7, "top": 356, "left": 108, "bottom": 363, "right": 164, "confidence": 100.0}, {"word": "of", "width": 9, "height": 5, "top": 357, "left": 169, "bottom": 363, "right": 178, "confidence": 100.0}, {"word": "Goods", "width": 31, "height": 7, "top": 355, "left": 182, "bottom": 363, "right": 213, "confidence": 100.0}, {"word": "LBL", "width": 17, "height": 7, "top": 373, "left": 69, "bottom": 381, "right": 87, "confidence": 100.0}, {"word": "Omep", "width": 29, "height": 10, "top": 373, "left": 91, "bottom": 383, "right": 120, "confidence": 75.0}, {"word": "DRCap", "width": 33, "height": 9, "top": 373, "left": 126, "bottom": 383, "right": 159, "confidence": 100.0}, {"word": "USP", "width": 19, "height": 7, "top": 373, "left": 164, "bottom": 381, "right": 183, "confidence": 100.0}, {"word": "20mg", "width": 27, "height": 10, "top": 373, "left": 188, "bottom": 383, "right": 216, "confidence": 75.0}, {"word": "1000s(C)USA", "width": 68, "height": 7, "top": 384, "left": 70, "bottom": 392, "right": 138, "confidence": 81.82}, {"word": "R4", "width": 11, "height": 7, "top": 384, "left": 142, "bottom": 392, "right": 154, "confidence": 50.0}, {"word": " ", "width": 81, "height": 1, "top": 393, "left": 155, "bottom": 394, "right": 236, "confidence": 100.0}, {"word": "5", "width": 4, "height": 7, "top": 396, "left": 69, "bottom": 404, "right": 74, "confidence": 100.0}, {"word": "C/BX", "width": 28, "height": 7, "top": 396, "left": 79, "bottom": 404, "right": 108, "confidence": 50.0}, {"word": "3RX", "width": 23, "height": 7, "top": 396, "left": 112, "bottom": 404, "right": 136, "confidence": 33.33}, {"word": "2500", "width": 24, "height": 7, "top": 396, "left": 140, "bottom": 404, "right": 164, "confidence": 100.0}, {"word": "1", "width": 4, "height": 7, "top": 407, "left": 70, "bottom": 414, "right": 74, "confidence": 0.0}, {"word": "C/B", "width": 17, "height": 7, "top": 407, "left": 79, "bottom": 414, "right": 97, "confidence": 100.0}, {"word": "X", "width": 6, "height": 7, "top": 407, "left": 101, "bottom": 414, "right": 108, "confidence": 100.0}, {"word": "1R", "width": 12, "height": 7, "top": 407, "left": 113, "bottom": 414, "right": 125, "confidence": 100.0}, {"word": "X", "width": 6, "height": 7, "top": 407, "left": 129, "bottom": 414, "right": 136, "confidence": 100.0}, {"word": "2500", "width": 24, "height": 7, "top": 407, "left": 140, "bottom": 414, "right": 164, "confidence": 100.0}, {"word": "+", "width": 6, "height": 6, "top": 408, "left": 170, "bottom": 414, "right": 176, "confidence": 100.0}, {"word": "2R", "width": 12, "height": 7, "top": 407, "left": 182, "bottom": 414, "right": 195, "confidence": 100.0}, {"word": "X", "width": 6, "height": 7, "top": 407, "left": 198, "bottom": 414, "right": 205, "confidence": 100.0}, {"word": "1000", "width": 23, "height": 7, "top": 407, "left": 210, "bottom": 414, "right": 234, "confidence": 100.0}, {"word": "Delivery", "width": 40, "height": 6, "top": 279, "left": 342, "bottom": 286, "right": 382, "confidence": 100.0}, {"word": "at/Consi", "width": 41, "height": 4, "top": 281, "left": 385, "bottom": 286, "right": 427, "confidence": 100.0}, {"word": "a", "width": 4, "height": 5, "top": 281, "left": 428, "bottom": 286, "right": 433, "confidence": 0.0}, {"word": "nee", "width": 16, "height": 4, "top": 281, "left": 435, "bottom": 286, "right": 451, "confidence": 100.0}, {"word": "Dr.Reddys", "width": 45, "height": 6, "top": 293, "left": 342, "bottom": 300, "right": 388, "confidence": 100.0}, {"word": "Laboratories", "width": 53, "height": 6, "top": 293, "left": 392, "bottom": 300, "right": 445, "confidence": 100.0}, {"word": "Ltd.", "width": 15, "height": 6, "top": 293, "left": 450, "bottom": 300, "right": 465, "confidence": 100.0}, {"word": "Sy", "width": 10, "height": 8, "top": 307, "left": 342, "bottom": 315, "right": 352, "confidence": 100.0}, {"word": "No.", "width": 13, "height": 6, "top": 307, "left": 356, "bottom": 313, "right": 369, "confidence": 100.0}, {"word": "41,", "width": 13, "height": 8, "top": 307, "left": 374, "bottom": 315, "right": 387, "confidence": 100.0}, {"word": "Bachupally,", "width": 48, "height": 8, "top": 307, "left": 392, "bottom": 315, "right": 441, "confidence": 100.0}, {"word": "Bachupally", "width": 46, "height": 8, "top": 307, "left": 445, "bottom": 315, "right": 492, "confidence": 100.0}, {"word": "Mandal,", "width": 33, "height": 8, "top": 307, "left": 496, "bottom": 315, "right": 529, "confidence": 85.71}, {"word": "Medchai", "width": 34, "height": 6, "top": 307, "left": 534, "bottom": 313, "right": 568, "confidence": 85.71}, {"word": "Malkajgiri", "width": 41, "height": 6, "top": 307, "left": 573, "bottom": 313, "right": 614, "confidence": 90.0}, {"word": "distric-500090", "width": 62, "height": 6, "top": 318, "left": 342, "bottom": 325, "right": 405, "confidence": 92.86}, {"word": "36AAACD7999Q1ZL", "width": 86, "height": 6, "top": 332, "left": 342, "bottom": 338, "right": 429, "confidence": 100.0}, {"word": "Declaration:", "width": 51, "height": 6, "top": 641, "left": 38, "bottom": 648, "right": 90, "confidence": 100.0}, {"word": "We", "width": 12, "height": 6, "top": 652, "left": 38, "bottom": 659, "right": 50, "confidence": 100.0}, {"word": "Declare", "width": 31, "height": 6, "top": 652, "left": 55, "bottom": 659, "right": 87, "confidence": 100.0}, {"word": "that", "width": 17, "height": 6, "top": 653, "left": 91, "bottom": 659, "right": 108, "confidence": 100.0}, {"word": "this", "width": 15, "height": 6, "top": 653, "left": 112, "bottom": 659, "right": 127, "confidence": 100.0}, {"word": "invoice", "width": 29, "height": 6, "top": 652, "left": 131, "bottom": 659, "right": 160, "confidence": 100.0}, {"word": "shows", "width": 26, "height": 4, "top": 654, "left": 164, "bottom": 659, "right": 191, "confidence": 100.0}, {"word": "the", "width": 13, "height": 6, "top": 653, "left": 195, "bottom": 659, "right": 208, "confidence": 100.0}, {"word": "actual", "width": 25, "height": 4, "top": 654, "left": 212, "bottom": 659, "right": 237, "confidence": 100.0}, {"word": "price", "width": 20, "height": 4, "top": 654, "left": 242, "bottom": 659, "right": 262, "confidence": 100.0}, {"word": "of", "width": 8, "height": 4, "top": 654, "left": 266, "bottom": 659, "right": 274, "confidence": 100.0}, {"word": "the", "width": 13, "height": 6, "top": 653, "left": 278, "bottom": 659, "right": 291, "confidence": 100.0}, {"word": "goods", "width": 25, "height": 5, "top": 654, "left": 295, "bottom": 659, "right": 321, "confidence": 100.0}, {"word": "described", "width": 40, "height": 6, "top": 663, "left": 38, "bottom": 670, "right": 79, "confidence": 100.0}, {"word": "and", "width": 14, "height": 4, "top": 665, "left": 83, "bottom": 670, "right": 98, "confidence": 100.0}, {"word": "that", "width": 17, "height": 6, "top": 664, "left": 102, "bottom": 670, "right": 120, "confidence": 100.0}, {"word": "all", "width": 8, "height": 4, "top": 665, "left": 124, "bottom": 670, "right": 132, "confidence": 100.0}, {"word": "particulars", "width": 45, "height": 4, "top": 665, "left": 137, "bottom": 670, "right": 182, "confidence": 100.0}, {"word": "are", "width": 13, "height": 4, "top": 665, "left": 186, "bottom": 670, "right": 200, "confidence": 100.0}, {"word": "true", "width": 17, "height": 6, "top": 664, "left": 203, "bottom": 670, "right": 221, "confidence": 100.0}, {"word": "and", "width": 14, "height": 4, "top": 665, "left": 225, "bottom": 670, "right": 240, "confidence": 100.0}, {"word": "correct.", "width": 32, "height": 4, "top": 665, "left": 244, "bottom": 670, "right": 277, "confidence": 100.0}, {"word": "Terms", "width": 26, "height": 6, "top": 674, "left": 38, "bottom": 681, "right": 64, "confidence": 100.0}, {"word": "&", "width": 5, "height": 6, "top": 674, "left": 68, "bottom": 681, "right": 74, "confidence": 100.0}, {"word": "Conditions", "width": 45, "height": 6, "top": 674, "left": 77, "bottom": 681, "right": 123, "confidence": 100.0}, {"word": ":", "width": 1, "height": 4, "top": 676, "left": 127, "bottom": 681, "right": 129, "confidence": 100.0}, {"word": "Any", "width": 16, "height": 8, "top": 674, "left": 133, "bottom": 683, "right": 150, "confidence": 100.0}, {"word": "discrepancies", "width": 58, "height": 6, "top": 674, "left": 153, "bottom": 681, "right": 212, "confidence": 100.0}, {"word": "should", "width": 27, "height": 4, "top": 676, "left": 216, "bottom": 681, "right": 243, "confidence": 100.0}, {"word": "be", "width": 9, "height": 6, "top": 674, "left": 248, "bottom": 681, "right": 257, "confidence": 100.0}, {"word": "brought", "width": 33, "height": 7, "top": 674, "left": 262, "bottom": 681, "right": 295, "confidence": 100.0}, {"word": "to", "width": 7, "height": 6, "top": 675, "left": 299, "bottom": 681, "right": 307, "confidence": 100.0}, {"word": "notice", "width": 25, "height": 4, "top": 687, "left": 38, "bottom": 692, "right": 63, "confidence": 100.0}, {"word": "within", "width": 25, "height": 4, "top": 687, "left": 68, "bottom": 692, "right": 93, "confidence": 100.0}, {"word": "6", "width": 4, "height": 6, "top": 685, "left": 98, "bottom": 692, "right": 102, "confidence": 100.0}, {"word": "clear", "width": 20, "height": 4, "top": 687, "left": 106, "bottom": 692, "right": 127, "confidence": 100.0}, {"word": "working", "width": 34, "height": 6, "top": 687, "left": 130, "bottom": 693, "right": 164, "confidence": 100.0}, {"word": "days.", "width": 22, "height": 6, "top": 685, "left": 168, "bottom": 692, "right": 191, "confidence": 100.0}, {"word": "Subject", "width": 32, "height": 6, "top": 696, "left": 38, "bottom": 703, "right": 71, "confidence": 100.0}, {"word": "to", "width": 7, "height": 6, "top": 697, "left": 74, "bottom": 703, "right": 82, "confidence": 100.0}, {"word": "Hyderabad", "width": 46, "height": 6, "top": 696, "left": 87, "bottom": 703, "right": 133, "confidence": 100.0}, {"word": "Jurisdiction", "width": 48, "height": 6, "top": 696, "left": 137, "bottom": 703, "right": 185, "confidence": 100.0}, {"word": "E", "width": 4, "height": 6, "top": 696, "left": 190, "bottom": 703, "right": 194, "confidence": 100.0}, {"word": "8t", "width": 5, "height": 6, "top": 696, "left": 198, "bottom": 703, "right": 204, "confidence": 50.0}, {"word": "O", "width": 5, "height": 6, "top": 696, "left": 208, "bottom": 703, "right": 213, "confidence": 0.0}, {"word": "E", "width": 4, "height": 6, "top": 696, "left": 218, "bottom": 703, "right": 222, "confidence": 100.0}, {"word": "Taxble", "width": 32, "height": 7, "top": 350, "left": 589, "bottom": 358, "right": 621, "confidence": 83.33}, {"word": "Value(INR)", "width": 55, "height": 8, "top": 362, "left": 577, "bottom": 370, "right": 632, "confidence": 70.0}, {"word": "59640.00", "width": 47, "height": 7, "top": 378, "left": 581, "bottom": 386, "right": 629, "confidence": 100.0}, {"word": "Invoice:", "width": 33, "height": 6, "top": 172, "left": 342, "bottom": 178, "right": 376, "confidence": 100.0}, {"word": "No.", "width": 13, "height": 6, "top": 172, "left": 381, "bottom": 178, "right": 394, "confidence": 100.0}, {"word": "CPSPL/19-20/0442", "width": 83, "height": 6, "top": 171, "left": 428, "bottom": 178, "right": 511, "confidence": 81.25}, {"word": "Dated:", "width": 28, "height": 6, "top": 185, "left": 342, "bottom": 192, "right": 370, "confidence": 100.0}, {"word": "16-07-2019", "width": 50, "height": 6, "top": 185, "left": 429, "bottom": 192, "right": 480, "confidence": 100.0}, {"word": "Buyers", "width": 31, "height": 6, "top": 199, "left": 342, "bottom": 206, "right": 374, "confidence": 100.0}, {"word": "Order", "width": 24, "height": 6, "top": 199, "left": 378, "bottom": 206, "right": 402, "confidence": 100.0}, {"word": "No.:", "width": 16, "height": 6, "top": 199, "left": 406, "bottom": 206, "right": 423, "confidence": 100.0}, {"word": "4000187129", "width": 54, "height": 6, "top": 199, "left": 428, "bottom": 206, "right": 483, "confidence": 100.0}, {"word": "Order", "width": 24, "height": 6, "top": 213, "left": 342, "bottom": 220, "right": 366, "confidence": 100.0}, {"word": "Date", "width": 19, "height": 6, "top": 213, "left": 370, "bottom": 220, "right": 390, "confidence": 100.0}, {"word": ":", "width": 1, "height": 5, "top": 215, "left": 395, "bottom": 220, "right": 396, "confidence": 100.0}, {"word": "Place", "width": 21, "height": 6, "top": 227, "left": 342, "bottom": 234, "right": 364, "confidence": 100.0}, {"word": "of", "width": 7, "height": 4, "top": 229, "left": 368, "bottom": 234, "right": 376, "confidence": 100.0}, {"word": "Supply:", "width": 31, "height": 6, "top": 227, "left": 379, "bottom": 234, "right": 411, "confidence": 100.0}, {"word": "Payment", "width": 37, "height": 6, "top": 241, "left": 342, "bottom": 248, "right": 379, "confidence": 100.0}, {"word": "Terms:", "width": 29, "height": 6, "top": 241, "left": 383, "bottom": 248, "right": 412, "confidence": 100.0}, {"word": "5367.60", "width": 41, "height": 8, "top": 439, "left": 585, "bottom": 448, "right": 626, "confidence": 100.0}, {"word": "5367.60", "width": 41, "height": 7, "top": 451, "left": 585, "bottom": 459, "right": 626, "confidence": 85.71}, {"word": "GST", "width": 20, "height": 7, "top": 350, "left": 535, "bottom": 358, "right": 556, "confidence": 100.0}, {"word": "Rate(%)", "width": 41, "height": 8, "top": 362, "left": 524, "bottom": 370, "right": 566, "confidence": 75.0}, {"word": "Companys", "width": 47, "height": 6, "top": 647, "left": 340, "bottom": 653, "right": 387, "confidence": 100.0}, {"word": "Bank", "width": 21, "height": 6, "top": 647, "left": 391, "bottom": 653, "right": 413, "confidence": 100.0}, {"word": "Details:", "width": 32, "height": 6, "top": 647, "left": 417, "bottom": 653, "right": 449, "confidence": 100.0}, {"word": "Bank", "width": 21, "height": 6, "top": 658, "left": 340, "bottom": 664, "right": 361, "confidence": 100.0}, {"word": "Name:", "width": 27, "height": 6, "top": 658, "left": 365, "bottom": 664, "right": 392, "confidence": 100.0}, {"word": "State", "width": 22, "height": 6, "top": 658, "left": 450, "bottom": 664, "right": 472, "confidence": 100.0}, {"word": "Bank", "width": 21, "height": 6, "top": 658, "left": 476, "bottom": 664, "right": 497, "confidence": 100.0}, {"word": "of", "width": 7, "height": 4, "top": 659, "left": 501, "bottom": 664, "right": 509, "confidence": 100.0}, {"word": "India", "width": 20, "height": 6, "top": 658, "left": 513, "bottom": 664, "right": 534, "confidence": 100.0}, {"word": "A/c", "width": 14, "height": 6, "top": 669, "left": 339, "bottom": 675, "right": 353, "confidence": 100.0}, {"word": "No.:", "width": 16, "height": 6, "top": 669, "left": 358, "bottom": 675, "right": 374, "confidence": 100.0}, {"word": "37165719069_CA", "width": 78, "height": 6, "top": 669, "left": 450, "bottom": 675, "right": 528, "confidence": 92.86}, {"word": "Branch:", "width": 32, "height": 6, "top": 680, "left": 340, "bottom": 686, "right": 372, "confidence": 100.0}, {"word": "City", "width": 16, "height": 8, "top": 680, "left": 450, "bottom": 688, "right": 466, "confidence": 100.0}, {"word": "Center(Hyd)", "width": 53, "height": 8, "top": 680, "left": 470, "bottom": 688, "right": 523, "confidence": 81.82}, {"word": "IFS", "width": 13, "height": 6, "top": 690, "left": 340, "bottom": 697, "right": 353, "confidence": 66.67}, {"word": "Code:", "width": 24, "height": 6, "top": 690, "left": 358, "bottom": 697, "right": 382, "confidence": 100.0}, {"word": "SBIN0013270", "width": 60, "height": 6, "top": 690, "left": 450, "bottom": 697, "right": 510, "confidence": 72.73}, {"word": "59640.00", "width": 40, "height": 6, "top": 503, "left": 594, "bottom": 510, "right": 635, "confidence": 87.5}, {"word": "5367.60", "width": 35, "height": 6, "top": 515, "left": 600, "bottom": 521, "right": 635, "confidence": 85.71}, {"word": "5367.60", "width": 35, "height": 6, "top": 527, "left": 600, "bottom": 533, "right": 635, "confidence": 85.71}, {"word": "0.00", "width": 18, "height": 6, "top": 538, "left": 616, "bottom": 545, "right": 635, "confidence": 75.0}, {"word": "10735.20", "width": 40, "height": 6, "top": 550, "left": 594, "bottom": 557, "right": 635, "confidence": 100.0}, {"word": "Total", "width": 23, "height": 6, "top": 469, "left": 36, "bottom": 476, "right": 60, "confidence": 100.0}, {"word": "Invoice", "width": 35, "height": 6, "top": 469, "left": 64, "bottom": 476, "right": 100, "confidence": 100.0}, {"word": "Value", "width": 27, "height": 6, "top": 469, "left": 103, "bottom": 476, "right": 130, "confidence": 100.0}, {"word": "in", "width": 7, "height": 6, "top": 469, "left": 135, "bottom": 476, "right": 142, "confidence": 100.0}, {"word": "Words", "width": 31, "height": 6, "top": 469, "left": 146, "bottom": 476, "right": 177, "confidence": 100.0}, {"word": ":", "width": 1, "height": 4, "top": 471, "left": 182, "bottom": 476, "right": 183, "confidence": 100.0}, {"word": "Seventy", "width": 38, "height": 8, "top": 481, "left": 36, "bottom": 489, "right": 75, "confidence": 100.0}, {"word": "Thousand", "width": 46, "height": 6, "top": 481, "left": 78, "bottom": 487, "right": 125, "confidence": 100.0}, {"word": "Three", "width": 27, "height": 6, "top": 481, "left": 129, "bottom": 487, "right": 157, "confidence": 100.0}, {"word": "Hundred", "width": 40, "height": 6, "top": 481, "left": 161, "bottom": 487, "right": 202, "confidence": 100.0}, {"word": "and", "width": 16, "height": 5, "top": 482, "left": 206, "bottom": 487, "right": 223, "confidence": 100.0}, {"word": "Seventy", "width": 39, "height": 8, "top": 481, "left": 227, "bottom": 489, "right": 267, "confidence": 100.0}, {"word": "Five", "width": 19, "height": 6, "top": 481, "left": 270, "bottom": 487, "right": 289, "confidence": 100.0}, {"word": "Rupees", "width": 35, "height": 6, "top": 481, "left": 294, "bottom": 487, "right": 329, "confidence": 100.0}, {"word": "and", "width": 16, "height": 5, "top": 482, "left": 332, "bottom": 487, "right": 349, "confidence": 100.0}, {"word": "TwentyPaisa", "width": 61, "height": 6, "top": 491, "left": 36, "bottom": 498, "right": 97, "confidence": 100.0}, {"word": "only", "width": 20, "height": 6, "top": 493, "left": 101, "bottom": 500, "right": 122, "confidence": 100.0}, {"word": " ", "width": 228, "height": 0, "top": 500, "left": 122, "bottom": 501, "right": 351, "confidence": 100.0}, {"word": "Total", "width": 20, "height": 6, "top": 503, "left": 35, "bottom": 510, "right": 56, "confidence": 100.0}, {"word": "Taxable", "width": 32, "height": 6, "top": 503, "left": 59, "bottom": 510, "right": 92, "confidence": 100.0}, {"word": "Value", "width": 23, "height": 6, "top": 503, "left": 96, "bottom": 510, "right": 119, "confidence": 100.0}, {"word": " ", "width": 231, "height": 0, "top": 512, "left": 119, "bottom": 513, "right": 351, "confidence": 100.0}, {"word": "Total", "width": 20, "height": 6, "top": 515, "left": 35, "bottom": 521, "right": 56, "confidence": 60.0}, {"word": "CGST", "width": 23, "height": 6, "top": 515, "left": 60, "bottom": 521, "right": 83, "confidence": 100.0}, {"word": " ", "width": 267, "height": 0, "top": 524, "left": 83, "bottom": 524, "right": 351, "confidence": 100.0}, {"word": "Total", "width": 20, "height": 6, "top": 527, "left": 35, "bottom": 533, "right": 56, "confidence": 60.0}, {"word": "SGST", "width": 23, "height": 6, "top": 527, "left": 60, "bottom": 533, "right": 83, "confidence": 100.0}, {"word": " ", "width": 267, "height": 0, "top": 535, "left": 83, "bottom": 536, "right": 351, "confidence": 100.0}, {"word": "Total", "width": 20, "height": 6, "top": 538, "left": 35, "bottom": 545, "right": 56, "confidence": 60.0}, {"word": "IGST", "width": 21, "height": 6, "top": 538, "left": 60, "bottom": 545, "right": 81, "confidence": 75.0}, {"word": " ", "width": 269, "height": 0, "top": 547, "left": 81, "bottom": 548, "right": 351, "confidence": 100.0}, {"word": "Total", "width": 20, "height": 6, "top": 550, "left": 35, "bottom": 557, "right": 56, "confidence": 60.0}, {"word": "GST/Tax", "width": 36, "height": 6, "top": 550, "left": 60, "bottom": 557, "right": 96, "confidence": 100.0}, {"word": " ", "width": 254, "height": 0, "top": 559, "left": 96, "bottom": 560, "right": 351, "confidence": 100.0}, {"word": "Companys", "width": 47, "height": 6, "top": 562, "left": 36, "bottom": 568, "right": 83, "confidence": 100.0}, {"word": "GSTN:", "width": 26, "height": 6, "top": 562, "left": 87, "bottom": 568, "right": 114, "confidence": 100.0}, {"word": "36AAHCC1842Q1Z9", "width": 86, "height": 6, "top": 562, "left": 120, "bottom": 568, "right": 206, "confidence": 100.0}, {"word": "Companys", "width": 47, "height": 6, "top": 573, "left": 36, "bottom": 579, "right": 83, "confidence": 100.0}, {"word": "PAN:", "width": 19, "height": 6, "top": 573, "left": 88, "bottom": 579, "right": 107, "confidence": 100.0}, {"word": "AAHCC1842Q", "width": 59, "height": 8, "top": 573, "left": 111, "bottom": 581, "right": 171, "confidence": 100.0}, {"word": "for", "width": 13, "height": 7, "top": 734, "left": 415, "bottom": 741, "right": 428, "confidence": 100.0}, {"word": "Citrus", "width": 28, "height": 6, "top": 735, "left": 432, "bottom": 741, "right": 460, "confidence": 100.0}, {"word": "Packaging", "width": 49, "height": 8, "top": 735, "left": 465, "bottom": 743, "right": 514, "confidence": 100.0}, {"word": "Solutions", "width": 45, "height": 6, "top": 735, "left": 518, "bottom": 741, "right": 563, "confidence": 100.0}, {"word": "Pvt.", "width": 17, "height": 6, "top": 735, "left": 567, "bottom": 741, "right": 585, "confidence": 100.0}, {"word": "Ltd.", "width": 17, "height": 6, "top": 734, "left": 589, "bottom": 741, "right": 607, "confidence": 100.0}, {"word": "Chenga", "width": 34, "height": 7, "top": 746, "left": 466, "bottom": 753, "right": 501, "confidence": 100.0}, {"word": "Reddy", "width": 28, "height": 10, "top": 746, "left": 505, "bottom": 756, "right": 533, "confidence": 100.0}, {"word": "KSSKSZKS?", "width": 65, "height": 7, "top": 746, "left": 537, "bottom": 754, "right": 602, "confidence": 0.0}, {"word": "Packaging", "width": 17, "height": 3, "top": 756, "left": 535, "bottom": 759, "right": 553, "confidence": 90.0}, {"word": "Solutions", "width": 14, "height": 2, "top": 755, "left": 554, "bottom": 758, "right": 568, "confidence": 100.0}, {"word": "Pvt.", "width": 5, "height": 2, "top": 755, "left": 569, "bottom": 758, "right": 575, "confidence": 100.0}, {"word": "Ltd.,", "width": 6, "height": 3, "top": 755, "left": 576, "bottom": 759, "right": 582, "confidence": 80.0}, {"word": "ou,", "width": 4, "height": 2, "top": 756, "left": 583, "bottom": 759, "right": 588, "confidence": 33.33}, {"word": "ft", "width": 2, "height": 3, "top": 759, "left": 467, "bottom": 763, "right": 469, "confidence": 100.0}, {"word": "ft", "width": 2, "height": 3, "top": 759, "left": 471, "bottom": 763, "right": 473, "confidence": 0.0}, {"word": "f,", "width": 4, "height": 1, "top": 761, "left": 475, "bottom": 763, "right": 480, "confidence": 0.0}, {"word": "fl", "width": 4, "height": 1, "top": 761, "left": 481, "bottom": 763, "right": 486, "confidence": 0.0}, {"word": "email=chenga@citruspack.com,", "width": 49, "height": 2, "top": 760, "left": 536, "bottom": 763, "right": 586, "confidence": 85.71}, {"word": "c=IN", "width": 7, "height": 2, "top": 760, "left": 587, "bottom": 762, "right": 594, "confidence": 100.0}, {"word": "I", "width": 0, "height": 4, "top": 763, "left": 466, "bottom": 767, "right": 467, "confidence": 0.0}, {"word": "V", "width": 2, "height": 3, "top": 763, "left": 469, "bottom": 766, "right": 472, "confidence": 100.0}, {"word": "I", "width": 0, "height": 3, "top": 763, "left": 473, "bottom": 766, "right": 474, "confidence": 0.0}, {"word": "e", "width": 4, "height": 3, "top": 763, "left": 487, "bottom": 766, "right": 492, "confidence": 0.0}, {"word": "I", "width": 1, "height": 3, "top": 763, "left": 493, "bottom": 766, "right": 494, "confidence": 100.0}, {"word": "I", "width": 1, "height": 3, "top": 763, "left": 496, "bottom": 766, "right": 497, "confidence": 0.0}, {"word": "I", "width": 1, "height": 4, "top": 763, "left": 500, "bottom": 767, "right": 501, "confidence": 0.0}, {"word": "Date:", "width": 7, "height": 3, "top": 764, "left": 537, "bottom": 767, "right": 545, "confidence": 100.0}, {"word": "Wl", "width": 4, "height": 3, "top": 764, "left": 546, "bottom": 767, "right": 551, "confidence": 0.0}, {"word": "9.07.1711.42.40", "width": 24, "height": 2, "top": 764, "left": 551, "bottom": 767, "right": 576, "confidence": 60.0}, {"word": "+0530", "width": 11, "height": 0, "top": 765, "left": 577, "bottom": 765, "right": 589, "confidence": 50.0}, {"word": "Authorised", "width": 46, "height": 6, "top": 770, "left": 498, "bottom": 776, "right": 544, "confidence": 100.0}, {"word": "Signatory", "width": 41, "height": 8, "top": 770, "left": 549, "bottom": 778, "right": 590, "confidence": 100.0}]]

	ner_model_path = '/home/akshat/program/ner'
	print(get_keywords(ocr, ner_model_path))